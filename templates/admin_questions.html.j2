<!doctype html>
<html>
<head>
    <title>Admin — Questions</title>
</head>
<link rel="stylesheet" href="./static/style.css">
<h1>Admin — Questions</h1>

<div style="text-align:center">
  <a href="/admin/questions/new" class="button">Create new question</a>
  <a href="/admin/progress" class="button">Progress</a>
  <a href="/admin/questions/download" class="button" download="riddles.json">Download JSON</a>
</div>

<ul>
  {% for q in riddles %}
    <li>
      <strong>({{ q.id }}) {{ q.question }}</strong><br>
      <em>Answer(s):</em> {{ q.answer|join(", ") }}<br>
      <em>Hint:</em> {{ q.hint }}<br>
      <em>Image:</em> {{ q.image_name }}<br>

      {# Move controls: hide Up for first, Down for last #}
      {% if q.id > 0 %}
        <form action="/admin/questions/move/{{ q.id }}/up" method="post" style="display:inline">
          <button type="submit">Move Up</button>
        </form>
      {% endif %}
      {% if q.id < total_count - 1 %}
        <form action="/admin/questions/move/{{ q.id }}/down" method="post" style="display:inline">
          <button type="submit">Move Down</button>
        </form>
      {% endif %}

      <form action="/admin/questions/edit/{{ q.id }}" method="get" style="display:inline">
        <button type="submit">Edit</button>
      </form>
      <form action="/admin/questions/delete/{{ q.id }}" method="post" style="display:inline" onsubmit="return confirm('Delete question?')">
        <button type="submit">Delete</button>
      </form>
    </li>
    <hr>
  {% endfor %}
</ul>

</html>